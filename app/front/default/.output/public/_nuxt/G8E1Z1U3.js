import{u as W}from"./CT3tixVX.js";import{Q as R,a7 as Q,j as i,r as G,aP as z,aZ as se,ai as ve,a0 as ee,a4 as me,a_ as Me,aa as Oe,a3 as C,I as De,J as Ue,f as fe,au as w,S as te,O as L,T as ae,am as ye,z as r,a$ as Fe,U as je,a6 as O,P as Ze,aD as qe,H as U,o as Ke,Z as Xe,ak as We,X as ge,F as Ye,d as Je,M as ue,A as N,t as Y,x as he,N as M,u as ie,v as Qe,y as Ge,b0 as re,b1 as et,q as tt}from"./DTsCsUsQ.js";import{c as at,u as be,g as lt}from"./C3tiUk-s.js";import{I as pe,m as D,u as $,a as j,n as Se,p as Ie,c as xe,E as Te,v as Ve,x as ke,h as Ce,V as ot,k as J,o as nt,w as st,C as ut}from"./DAWeKpcr.js";const F=Symbol.for("vuetify:layout"),we=Symbol.for("vuetify:layout-item"),ce=1e3,it=R({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Re=R({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function rt(){const e=Q(F);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:ee(),getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Be(e){const n=Q(F);if(!n)throw new Error("[Vuetify] Could not find injected layout");const t=e.id??`layout-item-${Oe()}`,o=ve("useLayoutItem");me(we,{id:t});const a=C(!1);De(()=>a.value=!0),Ue(()=>a.value=!1);const l=ee(),{layoutItemStyles:s,layoutItemScrimStyles:u}=n.register(o,{...e,active:i(()=>a.value?!1:e.active.value),id:t});return fe(()=>n.unregister(t)),{layoutItemStyles:s,layoutRect:n.layoutRect,layoutItemScrimStyles:u,layoutIsReady:l}}const ct=(e,n,t,o)=>{let a={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...a}}];for(const s of e){const u=n.get(s),d=t.get(s),h=o.get(s);if(!u||!d||!h)continue;const m={...a,[u.value]:parseInt(a[u.value],10)+(h.value?parseInt(d.value,10):0)};l.push({id:s,layer:m}),a=m}return l};function dt(e){const n=Q(F,null),t=i(()=>n?n.rootZIndex.value-100:ce),o=G([]),a=z(new Map),l=z(new Map),s=z(new Map),u=z(new Map),d=z(new Map),{resizeRef:h,contentRect:m}=pe(),f=se(()=>{const g=[...new Set([...s.values()].map(y=>y.value))].sort((y,P)=>y-P),S=[];for(const y of g){const P=o.value.filter(x=>{var H;return((H=s.get(x))==null?void 0:H.value)===y});S.push(...P)}return ct(S,a,l,u)}),I=i(()=>!Array.from(d.values()).some(g=>g.value)),b=i(()=>f.value[f.value.length-1].layer),v=i(()=>({"--v-layout-left":w(b.value.left),"--v-layout-right":w(b.value.right),"--v-layout-top":w(b.value.top),"--v-layout-bottom":w(b.value.bottom),...I.value?void 0:{transition:"none"}})),p=se(()=>f.value.slice(1).map((g,S)=>{let{id:y}=g;const{layer:P}=f.value[S],x=l.get(y),H=a.get(y);return{id:y,...P,size:Number(x.value),position:H.value}})),T=g=>p.value.find(S=>S.id===g),B=ve("createLayout"),_=ee();me(F,{register:(g,S)=>{let{id:y,order:P,position:x,layoutSize:H,elementSize:A,active:le,disableTransitions:oe,absolute:Le}=S;s.set(y,P),a.set(y,x),l.set(y,H),u.set(y,le),oe&&d.set(y,oe);const ne=Me(we,B==null?void 0:B.vnode).indexOf(g);ne>-1?o.value.splice(ne,0,y):o.value.push(y);const Z=i(()=>p.value.findIndex(E=>E.id===y)),q=i(()=>t.value+f.value.length*2-Z.value*2),$e=i(()=>{const E=x.value==="left"||x.value==="right",K=x.value==="right",Ee=x.value==="bottom",X=A.value??H.value,ze=X===0?"%":"px",Ne={[x.value]:0,zIndex:q.value,transform:`translate${E?"X":"Y"}(${(le.value?0:-(X===0?100:X))*(K||Ee?-1:1)}${ze})`,position:Le.value||t.value!==ce?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(Z.value<0)throw new Error(`Layout item "${y}" is missing`);const k=p.value[Z.value];if(!k)throw new Error(`[Vuetify] Could not find layout item "${y}"`);return{...Ne,height:E?`calc(100% - ${k.top}px - ${k.bottom}px)`:A.value?`${A.value}px`:void 0,left:K?void 0:`${k.left}px`,right:K?`${k.right}px`:void 0,top:x.value!=="bottom"?`${k.top}px`:void 0,bottom:x.value!=="top"?`${k.bottom}px`:void 0,width:E?A.value?`${A.value}px`:void 0:`calc(100% - ${k.left}px - ${k.right}px)`}}),Ae=i(()=>({zIndex:q.value-1}));return{layoutItemStyles:$e,layoutItemScrimStyles:Ae,zIndex:q}},unregister:g=>{s.delete(g),a.delete(g),l.delete(g),u.delete(g),d.delete(g),o.value=o.value.filter(S=>S!==g)},mainRect:b,mainStyles:v,getLayoutItem:T,items:p,layoutRect:m,rootZIndex:t,layoutIsReady:_});const c=i(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),V=i(()=>({zIndex:n?t.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:c,layoutStyles:V,getLayoutItem:T,items:p,layoutRect:m,layoutIsReady:_,layoutRef:h}}const vt=R({...D(),...it({fullHeight:!0}),...te()},"VApp"),mt=L()({name:"VApp",props:vt(),setup(e,n){let{slots:t}=n;const o=ae(e),{layoutClasses:a,getLayoutItem:l,items:s,layoutRef:u}=dt(e),{rtlClasses:d}=ye();return $(()=>r("div",{ref:u,class:["v-application",o.themeClasses.value,a.value,d.value,e.class],style:[e.style]},[r("div",{class:"v-application__wrap"},[r(Fe,null,{default:()=>{var h;return[r(je,null,[(h=t.default)==null?void 0:h.call(t)])]}})])])),{getLayoutItem:l,items:s,theme:o}}}),_e=R({text:String,...D(),...j()},"VToolbarTitle"),Pe=L()({name:"VToolbarTitle",props:_e(),setup(e,n){let{slots:t}=n;return $(()=>{const o=!!(t.default||t.text||e.text);return r(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[o&&r("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(a=t.default)==null?void 0:a.call(t)])]}})}),{}}}),ft=[null,"prominent","default","comfortable","compact"],He=R({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>ft.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Se(),...D(),...Ie(),...xe(),...j({tag:"header"}),...te()},"VToolbar"),de=L()({name:"VToolbar",props:He(),setup(e,n){var b;let{slots:t}=n;const{backgroundColorClasses:o,backgroundColorStyles:a}=Te(O(e,"color")),{borderClasses:l}=Ve(e),{elevationClasses:s}=ke(e),{roundedClasses:u}=Ce(e),{themeClasses:d}=ae(e),{rtlClasses:h}=ye(),m=C(!!(e.extended||(b=t.extension)!=null&&b.call(t))),f=i(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),I=i(()=>m.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ze({VBtn:{variant:"text"}}),$(()=>{var B;const v=!!(e.title||t.title),p=!!(t.image||e.image),T=(B=t.extension)==null?void 0:B.call(t);return m.value=!!(e.extended||T),r(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},o.value,l.value,s.value,u.value,d.value,h.value,e.class],style:[a.value,e.style]},{default:()=>[p&&r("div",{key:"image",class:"v-toolbar__image"},[t.image?r(J,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):r(ot,{key:"image-img",cover:!0,src:e.image},null)]),r(J,{defaults:{VTabs:{height:w(f.value)}}},{default:()=>{var _,c,V;return[r("div",{class:"v-toolbar__content",style:{height:w(f.value)}},[t.prepend&&r("div",{class:"v-toolbar__prepend"},[(_=t.prepend)==null?void 0:_.call(t)]),v&&r(Pe,{key:"title",text:e.title},{text:t.title}),(c=t.default)==null?void 0:c.call(t),t.append&&r("div",{class:"v-toolbar__append"},[(V=t.append)==null?void 0:V.call(t)])])]}}),r(J,{defaults:{VTabs:{height:w(I.value)}}},{default:()=>[r(at,null,{default:()=>[m.value&&r("div",{class:"v-toolbar__extension",style:{height:w(I.value)}},[T])]})]})]})}),{contentHeight:f,extensionHeight:I}}}),yt=R({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function gt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=n;let o=0,a=0;const l=G(null),s=C(0),u=C(0),d=C(0),h=C(!1),m=C(!1),f=i(()=>Number(e.scrollThreshold)),I=i(()=>qe((f.value-s.value)/f.value||0)),b=()=>{const v=l.value;if(!v||t&&!t.value)return;o=s.value,s.value="window"in v?v.pageYOffset:v.scrollTop;const p=v instanceof Window?document.documentElement.scrollHeight:v.scrollHeight;if(a!==p){a=p;return}m.value=s.value<o,d.value=Math.abs(s.value-f.value)};return U(m,()=>{u.value=u.value||s.value}),U(h,()=>{u.value=0}),Ke(()=>{U(()=>e.scrollTarget,v=>{var T;const p=v?document.querySelector(v):window;p&&p!==l.value&&((T=l.value)==null||T.removeEventListener("scroll",b),l.value=p,l.value.addEventListener("scroll",b,{passive:!0}))},{immediate:!0})}),fe(()=>{var v;(v=l.value)==null||v.removeEventListener("scroll",b)}),t&&U(t,b,{immediate:!0}),{scrollThreshold:f,currentScroll:s,currentThreshold:d,isScrollActive:h,scrollRatio:I,isScrollingUp:m,savedScroll:u}}const ht=R({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...He(),...Re(),...yt(),height:{type:[Number,String],default:64}},"VAppBar"),bt=L()({name:"VAppBar",props:ht(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const o=G(),a=Xe(e,"modelValue"),l=i(()=>{var V;const c=new Set(((V=e.scrollBehavior)==null?void 0:V.split(" "))??[]);return{hide:c.has("hide"),fullyHide:c.has("fully-hide"),inverted:c.has("inverted"),collapse:c.has("collapse"),elevate:c.has("elevate"),fadeImage:c.has("fade-image")}}),s=i(()=>{const c=l.value;return c.hide||c.fullyHide||c.inverted||c.collapse||c.elevate||c.fadeImage||!a.value}),{currentScroll:u,scrollThreshold:d,isScrollingUp:h,scrollRatio:m}=gt(e,{canScroll:s}),f=i(()=>l.value.hide||l.value.fullyHide),I=i(()=>e.collapse||l.value.collapse&&(l.value.inverted?m.value>0:m.value===0)),b=i(()=>e.flat||l.value.fullyHide&&!a.value||l.value.elevate&&(l.value.inverted?u.value>0:u.value===0)),v=i(()=>l.value.fadeImage?l.value.inverted?1-m.value:m.value:void 0),p=i(()=>{var g,S;const c=Number(((g=o.value)==null?void 0:g.contentHeight)??e.height),V=Number(((S=o.value)==null?void 0:S.extensionHeight)??0);return f.value?u.value<d.value||l.value.fullyHide?c+V:c:c+V});We(i(()=>!!e.scrollBehavior),()=>{Ye(()=>{f.value?l.value.inverted?a.value=u.value>d.value:a.value=h.value||u.value<d.value:a.value=!0})});const{ssrBootStyles:T}=be(),{layoutItemStyles:B,layoutIsReady:_}=Be({id:e.name,order:i(()=>parseInt(e.order,10)),position:O(e,"location"),layoutSize:p,elementSize:C(void 0),active:a,absolute:O(e,"absolute")});return $(()=>{const c=de.filterProps(e);return r(de,ge({ref:o,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":v.value,height:void 0,...T.value},e.style]},c,{collapse:I.value,flat:b.value}),t)}),_}}),pt=L()({name:"VAppBarTitle",props:_e(),setup(e,n){let{slots:t}=n;return $(()=>r(Pe,ge(e,{class:"v-app-bar-title"}),t)),{}}}),St=R({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Se(),...D(),...Ie(),...Re(),...xe(),...j({tag:"footer"}),...te()},"VFooter"),It=L()({name:"VFooter",props:St(),setup(e,n){let{slots:t}=n;const{themeClasses:o}=ae(e),{backgroundColorClasses:a,backgroundColorStyles:l}=Te(O(e,"color")),{borderClasses:s}=Ve(e),{elevationClasses:u}=ke(e),{roundedClasses:d}=Ce(e),h=C(32),{resizeRef:m}=pe(v=>{v.length&&(h.value=v[0].target.clientHeight)}),f=i(()=>e.height==="auto"?h.value:parseInt(e.height,10)),{layoutItemStyles:I,layoutIsReady:b}=Be({id:e.name,order:i(()=>parseInt(e.order,10)),position:i(()=>"bottom"),layoutSize:f,elementSize:i(()=>e.height==="auto"?void 0:f.value),active:i(()=>e.app),absolute:O(e,"absolute")});return $(()=>r(e.tag,{ref:m,class:["v-footer",o.value,a.value,s.value,u.value,d.value,e.class],style:[l.value,e.app?I.value:{height:w(e.height)},e.style]},t)),e.app?b:{}}}),xt=R({scrollable:Boolean,...D(),...nt(),...j({tag:"main"})},"VMain"),Tt=L()({name:"VMain",props:xt(),setup(e,n){let{slots:t}=n;const{dimensionStyles:o}=st(e),{mainStyles:a,layoutIsReady:l}=rt(),{ssrBootStyles:s}=be();return $(()=>r(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[a.value,s.value,o.value,e.style]},{default:()=>{var u,d;return[e.scrollable?r("div",{class:"v-main__scroller"},[(u=t.default)==null?void 0:u.call(t)]):(d=t.default)==null?void 0:d.call(t)]}})),l}}),Vt={key:0},kt=he("div",null,"© 2024 OIDC-TUTORIAL",-1),Pt=Je({__name:"default",setup(e){const n=W();async function t(){const o="http://localhost:8888/realms/oidc-tutorial/protocol/openid-connect/logout",{clientId:a}=tt().public,l=W().getToken("refresh"),s=new URLSearchParams;s.append("client_id",`${a}`),s.append("refresh_token",`${l}`);try{if((await fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()})).ok)n.logout(),ie().push({path:"/login"});else throw new Error("Failed to fetch access token")}catch(u){console.error("Error fetching access token:",u)}}return(o,a)=>(Y(),ue(mt,null,{default:N(()=>[r(bt,{color:"primary",elevation:2},{default:N(()=>[r(pt,null,{default:N(()=>[he("div",{onClick:a[0]||(a[0]=l=>("useRouter"in o?o.useRouter:M(ie))().push("/")),style:{cursor:"pointer"}},"OIDC-TUTORIAL")]),_:1}),M(n).authenticated("access")?(Y(),Qe("div",Vt,"ようこそ、"+Ge(("useAuth"in o?o.useAuth:M(W))().getUsername())+"さん",1)):re("",!0),M(n).authenticated("access")?(Y(),ue(ut,{key:1,icon:M(lt),onClick:a[1]||(a[1]=l=>t())},null,8,["icon"])):re("",!0)]),_:1}),r(Tt,null,{default:N(()=>[et(o.$slots,"default")]),_:3}),r(It,{class:"footer justify-center"},{default:N(()=>[kt]),_:1})]),_:3}))}});export{Pt as default};
