import{Q as te,a8 as ye,j as B,r as xe,ad as se,aY as Se,a7 as Ee,a2 as be,ae as Re,aZ as Qe,as as et,ab as Q,I as tt,J as rt,f as Ce,a3 as ee,S as ke,O as ae,T as we,ai as Le,z as H,a_ as at,U as nt,aj as ue,P as ot,a4 as st,H as de,o as it,ah as lt,$ as ct,X as Pe,F as ut,d as ft,q as dt,aN as ht,L as _e,A as ie,t as me,x as Me,an as le,u as vt,v as mt,y as pt,a$ as Fe,b0 as gt}from"./DAGB_px-.js";import{u as Ie}from"./0_FZVDJP.js";import{u as yt}from"./GpHrVUqc.js";import{V as xt,d as bt,u as Be,i as kt}from"./RtvMRPMb.js";import{O as Ve,m as fe,u as ne,a as ve,l as He,o as Ne,c as Oe,G as je,t as ze,w as De,h as $e,j as pe,n as wt,v as St,J as _t}from"./ZTTGoMqa.js";const he=Symbol.for("vuetify:layout"),Ke=Symbol.for("vuetify:layout-item"),Ae=1e3,Ft=te({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Je=te({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function It(){const a=ye(he);if(!a)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:be(),getLayoutItem:a.getLayoutItem,mainRect:a.mainRect,mainStyles:a.mainStyles}}function Ye(a){const e=ye(he);if(!e)throw new Error("[Vuetify] Could not find injected layout");const c=a.id??`layout-item-${et()}`,b=Ee("useLayoutItem");Re(Ke,{id:c});const S=Q(!1);tt(()=>S.value=!0),rt(()=>S.value=!1);const p=be(),{layoutItemStyles:U,layoutItemScrimStyles:_}=e.register(b,{...a,active:B(()=>S.value?!1:a.active.value),id:c});return Ce(()=>e.unregister(c)),{layoutItemStyles:U,layoutRect:e.layoutRect,layoutItemScrimStyles:_,layoutIsReady:p}}const At=(a,e,c,b)=>{let S={top:0,left:0,right:0,bottom:0};const p=[{id:"",layer:{...S}}];for(const U of a){const _=e.get(U),s=c.get(U),P=b.get(U);if(!_||!s||!P)continue;const R={...S,[_.value]:parseInt(S[_.value],10)+(P.value?parseInt(s.value,10):0)};p.push({id:U,layer:R}),S=R}return p};function Ut(a){const e=ye(he,null),c=B(()=>e?e.rootZIndex.value-100:Ae),b=xe([]),S=se(new Map),p=se(new Map),U=se(new Map),_=se(new Map),s=se(new Map),{resizeRef:P,contentRect:R}=Ve(),V=Se(()=>{const L=[...new Set([...U.values()].map(l=>l.value))].sort((l,w)=>l-w),n=[];for(const l of L){const w=b.value.filter(d=>{var g;return((g=U.get(d))==null?void 0:g.value)===l});n.push(...w)}return At(n,S,p,_)}),K=B(()=>!Array.from(s.values()).some(L=>L.value)),E=B(()=>V.value[V.value.length-1].layer),N=B(()=>({"--v-layout-left":ee(E.value.left),"--v-layout-right":ee(E.value.right),"--v-layout-top":ee(E.value.top),"--v-layout-bottom":ee(E.value.bottom),...K.value?void 0:{transition:"none"}})),z=Se(()=>V.value.slice(1).map((L,n)=>{let{id:l}=L;const{layer:w}=V.value[n],d=p.get(l),g=S.get(l);return{id:l,...w,size:Number(d.value),position:g.value}})),j=L=>z.value.find(n=>n.id===L),X=Ee("createLayout"),J=be();Re(he,{register:(L,n)=>{let{id:l,order:w,position:d,layoutSize:g,elementSize:m,active:I,disableTransitions:f,absolute:A}=n;U.set(l,w),S.set(l,d),p.set(l,g),_.set(l,I),f&&s.set(l,f);const $=Qe(Ke,X==null?void 0:X.vnode).indexOf(L);$>-1?b.value.splice($,0,l):b.value.push(l);const D=B(()=>z.value.findIndex(t=>t.id===l)),W=B(()=>c.value+V.value.length*2-D.value*2),C=B(()=>{const t=d.value==="left"||d.value==="right",r=d.value==="right",u=d.value==="bottom",h=m.value??g.value,o=h===0?"%":"px",y={[d.value]:0,zIndex:W.value,transform:`translate${t?"X":"Y"}(${(I.value?0:-(h===0?100:h))*(r||u?-1:1)}${o})`,position:A.value||c.value!==Ae?"absolute":"fixed",...K.value?void 0:{transition:"none"}};if(D.value<0)throw new Error(`Layout item "${l}" is missing`);const i=z.value[D.value];if(!i)throw new Error(`[Vuetify] Could not find layout item "${l}"`);return{...y,height:t?`calc(100% - ${i.top}px - ${i.bottom}px)`:m.value?`${m.value}px`:void 0,left:r?void 0:`${i.left}px`,right:r?`${i.right}px`:void 0,top:d.value!=="bottom"?`${i.top}px`:void 0,bottom:d.value!=="top"?`${i.bottom}px`:void 0,width:t?m.value?`${m.value}px`:void 0:`calc(100% - ${i.left}px - ${i.right}px)`}}),q=B(()=>({zIndex:W.value-1}));return{layoutItemStyles:C,layoutItemScrimStyles:q,zIndex:W}},unregister:L=>{U.delete(L),S.delete(L),p.delete(L),_.delete(L),s.delete(L),b.value=b.value.filter(n=>n!==L)},mainRect:E,mainStyles:N,getLayoutItem:j,items:z,layoutRect:R,rootZIndex:c,layoutIsReady:J});const F=B(()=>["v-layout",{"v-layout--full-height":a.fullHeight}]),Y=B(()=>({zIndex:e?c.value:void 0,position:e?"relative":void 0,overflow:e?"hidden":void 0}));return{layoutClasses:F,layoutStyles:Y,getLayoutItem:j,items:z,layoutRect:R,layoutIsReady:J,layoutRef:P}}var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function Rt(a){if(a.__esModule)return a;var e=a.default;if(typeof e=="function"){var c=function b(){return this instanceof b?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};c.prototype=e.prototype}else c={};return Object.defineProperty(c,"__esModule",{value:!0}),Object.keys(a).forEach(function(b){var S=Object.getOwnPropertyDescriptor(a,b);Object.defineProperty(c,b,S.get?S:{enumerable:!0,get:function(){return a[b]}})}),c}var We={exports:{}};const Ct={},Lt=Object.freeze(Object.defineProperty({__proto__:null,default:Ct},Symbol.toStringTag,{value:"Module"})),Ue=Rt(Lt);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(a){(function(){var e="input is invalid type",c=typeof window=="object",b=c?window:{};b.JS_SHA256_NO_WINDOW&&(c=!1);var S=!c&&typeof self=="object",p=!b.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;p?b=Tt:S&&(b=self);var U=!b.JS_SHA256_NO_COMMON_JS&&!0&&a.exports,_=!b.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",s="0123456789abcdef".split(""),P=[-2147483648,8388608,32768,128],R=[24,16,8,0],V=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],K=["hex","array","digest","arrayBuffer"],E=[];(b.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),_&&(b.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var N=function(n,l){return function(w){return new F(l,!0).update(w)[n]()}},z=function(n){var l=N("hex",n);p&&(l=j(l,n)),l.create=function(){return new F(n)},l.update=function(g){return l.create().update(g)};for(var w=0;w<K.length;++w){var d=K[w];l[d]=N(d,n)}return l},j=function(n,l){var w=Ue,d=Ue.Buffer,g=l?"sha224":"sha256",m;d.from&&!b.JS_SHA256_NO_BUFFER_FROM?m=d.from:m=function(f){return new d(f)};var I=function(f){if(typeof f=="string")return w.createHash(g).update(f,"utf8").digest("hex");if(f==null)throw new Error(e);return f.constructor===ArrayBuffer&&(f=new Uint8Array(f)),Array.isArray(f)||ArrayBuffer.isView(f)||f.constructor===d?w.createHash(g).update(m(f)).digest("hex"):n(f)};return I},X=function(n,l){return function(w,d){return new Y(w,l,!0).update(d)[n]()}},J=function(n){var l=X("hex",n);l.create=function(g){return new Y(g,n)},l.update=function(g,m){return l.create(g).update(m)};for(var w=0;w<K.length;++w){var d=K[w];l[d]=X(d,n)}return l};function F(n,l){l?(E[0]=E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0,this.blocks=E):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=n}F.prototype.update=function(n){if(!this.finalized){var l,w=typeof n;if(w!=="string"){if(w==="object"){if(n===null)throw new Error(e);if(_&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!_||!ArrayBuffer.isView(n)))throw new Error(e)}else throw new Error(e);l=!0}for(var d,g=0,m,I=n.length,f=this.blocks;g<I;){if(this.hashed&&(this.hashed=!1,f[0]=this.block,this.block=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),l)for(m=this.start;g<I&&m<64;++g)f[m>>>2]|=n[g]<<R[m++&3];else for(m=this.start;g<I&&m<64;++g)d=n.charCodeAt(g),d<128?f[m>>>2]|=d<<R[m++&3]:d<2048?(f[m>>>2]|=(192|d>>>6)<<R[m++&3],f[m>>>2]|=(128|d&63)<<R[m++&3]):d<55296||d>=57344?(f[m>>>2]|=(224|d>>>12)<<R[m++&3],f[m>>>2]|=(128|d>>>6&63)<<R[m++&3],f[m>>>2]|=(128|d&63)<<R[m++&3]):(d=65536+((d&1023)<<10|n.charCodeAt(++g)&1023),f[m>>>2]|=(240|d>>>18)<<R[m++&3],f[m>>>2]|=(128|d>>>12&63)<<R[m++&3],f[m>>>2]|=(128|d>>>6&63)<<R[m++&3],f[m>>>2]|=(128|d&63)<<R[m++&3]);this.lastByteIndex=m,this.bytes+=m-this.start,m>=64?(this.block=f[16],this.start=m-64,this.hash(),this.hashed=!0):this.start=m}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},F.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,l=this.lastByteIndex;n[16]=this.block,n[l>>>2]|=P[l&3],this.block=n[16],l>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}},F.prototype.hash=function(){var n=this.h0,l=this.h1,w=this.h2,d=this.h3,g=this.h4,m=this.h5,I=this.h6,f=this.h7,A=this.blocks,O,$,D,W,C,q,t,r,u,h,o;for(O=16;O<64;++O)C=A[O-15],$=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3,C=A[O-2],D=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10,A[O]=A[O-16]+$+A[O-7]+D<<0;for(o=l&w,O=0;O<64;O+=4)this.first?(this.is224?(r=300032,C=A[0]-1413257819,f=C-150054599<<0,d=C+24177077<<0):(r=704751109,C=A[0]-210244248,f=C-1521486534<<0,d=C+143694565<<0),this.first=!1):($=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),D=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7),r=n&l,W=r^n&w^o,t=g&m^~g&I,C=f+D+t+V[O]+A[O],q=$+W,f=d+C<<0,d=C+q<<0),$=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),D=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),u=d&n,W=u^d&l^r,t=f&g^~f&m,C=I+D+t+V[O+1]+A[O+1],q=$+W,I=w+C<<0,w=C+q<<0,$=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),D=(I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7),h=w&d,W=h^w&n^u,t=I&f^~I&g,C=m+D+t+V[O+2]+A[O+2],q=$+W,m=l+C<<0,l=C+q<<0,$=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),D=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),o=l&w,W=o^l&d^h,t=m&I^~m&f,C=g+D+t+V[O+3]+A[O+3],q=$+W,g=n+C<<0,n=C+q<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+n<<0,this.h1=this.h1+l<<0,this.h2=this.h2+w<<0,this.h3=this.h3+d<<0,this.h4=this.h4+g<<0,this.h5=this.h5+m<<0,this.h6=this.h6+I<<0,this.h7=this.h7+f<<0},F.prototype.hex=function(){this.finalize();var n=this.h0,l=this.h1,w=this.h2,d=this.h3,g=this.h4,m=this.h5,I=this.h6,f=this.h7,A=s[n>>>28&15]+s[n>>>24&15]+s[n>>>20&15]+s[n>>>16&15]+s[n>>>12&15]+s[n>>>8&15]+s[n>>>4&15]+s[n&15]+s[l>>>28&15]+s[l>>>24&15]+s[l>>>20&15]+s[l>>>16&15]+s[l>>>12&15]+s[l>>>8&15]+s[l>>>4&15]+s[l&15]+s[w>>>28&15]+s[w>>>24&15]+s[w>>>20&15]+s[w>>>16&15]+s[w>>>12&15]+s[w>>>8&15]+s[w>>>4&15]+s[w&15]+s[d>>>28&15]+s[d>>>24&15]+s[d>>>20&15]+s[d>>>16&15]+s[d>>>12&15]+s[d>>>8&15]+s[d>>>4&15]+s[d&15]+s[g>>>28&15]+s[g>>>24&15]+s[g>>>20&15]+s[g>>>16&15]+s[g>>>12&15]+s[g>>>8&15]+s[g>>>4&15]+s[g&15]+s[m>>>28&15]+s[m>>>24&15]+s[m>>>20&15]+s[m>>>16&15]+s[m>>>12&15]+s[m>>>8&15]+s[m>>>4&15]+s[m&15]+s[I>>>28&15]+s[I>>>24&15]+s[I>>>20&15]+s[I>>>16&15]+s[I>>>12&15]+s[I>>>8&15]+s[I>>>4&15]+s[I&15];return this.is224||(A+=s[f>>>28&15]+s[f>>>24&15]+s[f>>>20&15]+s[f>>>16&15]+s[f>>>12&15]+s[f>>>8&15]+s[f>>>4&15]+s[f&15]),A},F.prototype.toString=F.prototype.hex,F.prototype.digest=function(){this.finalize();var n=this.h0,l=this.h1,w=this.h2,d=this.h3,g=this.h4,m=this.h5,I=this.h6,f=this.h7,A=[n>>>24&255,n>>>16&255,n>>>8&255,n&255,l>>>24&255,l>>>16&255,l>>>8&255,l&255,w>>>24&255,w>>>16&255,w>>>8&255,w&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,g>>>24&255,g>>>16&255,g>>>8&255,g&255,m>>>24&255,m>>>16&255,m>>>8&255,m&255,I>>>24&255,I>>>16&255,I>>>8&255,I&255];return this.is224||A.push(f>>>24&255,f>>>16&255,f>>>8&255,f&255),A},F.prototype.array=F.prototype.digest,F.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),l=new DataView(n);return l.setUint32(0,this.h0),l.setUint32(4,this.h1),l.setUint32(8,this.h2),l.setUint32(12,this.h3),l.setUint32(16,this.h4),l.setUint32(20,this.h5),l.setUint32(24,this.h6),this.is224||l.setUint32(28,this.h7),n};function Y(n,l,w){var d,g=typeof n;if(g==="string"){var m=[],I=n.length,f=0,A;for(d=0;d<I;++d)A=n.charCodeAt(d),A<128?m[f++]=A:A<2048?(m[f++]=192|A>>>6,m[f++]=128|A&63):A<55296||A>=57344?(m[f++]=224|A>>>12,m[f++]=128|A>>>6&63,m[f++]=128|A&63):(A=65536+((A&1023)<<10|n.charCodeAt(++d)&1023),m[f++]=240|A>>>18,m[f++]=128|A>>>12&63,m[f++]=128|A>>>6&63,m[f++]=128|A&63);n=m}else if(g==="object"){if(n===null)throw new Error(e);if(_&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!_||!ArrayBuffer.isView(n)))throw new Error(e)}else throw new Error(e);n.length>64&&(n=new F(l,!0).update(n).array());var O=[],$=[];for(d=0;d<64;++d){var D=n[d]||0;O[d]=92^D,$[d]=54^D}F.call(this,l,w),this.update($),this.oKeyPad=O,this.inner=!0,this.sharedMemory=w}Y.prototype=new F,Y.prototype.finalize=function(){if(F.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();F.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(n),F.prototype.finalize.call(this)}};var L=z();L.sha256=L,L.sha224=z(!0),L.sha256.hmac=J(),L.sha224.hmac=J(!0),U?a.exports=L:(b.sha256=L.sha256,b.sha224=L.sha224)})()})(We);var Pt=We.exports;const Mt=Et(Pt);class ce extends Error{}ce.prototype.name="InvalidTokenError";function Bt(a){return decodeURIComponent(atob(a).replace(/(.)/g,(e,c)=>{let b=c.charCodeAt(0).toString(16).toUpperCase();return b.length<2&&(b="0"+b),"%"+b}))}function Vt(a){let e=a.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Bt(e)}catch{return atob(e)}}function ge(a,e){if(typeof a!="string")throw new ce("Invalid token specified: must be a string");e||(e={});const c=e.header===!0?0:1,b=a.split(".")[c];if(typeof b!="string")throw new ce(`Invalid token specified: missing part #${c+1}`);let S;try{S=Vt(b)}catch(p){throw new ce(`Invalid token specified: invalid base64 for part #${c+1} (${p.message})`)}try{return JSON.parse(S)}catch(p){throw new ce(`Invalid token specified: invalid json for part #${c+1} (${p.message})`)}}if(typeof Promise>"u")throw Error("Keycloak requires an environment that supports Promises. Make sure that you include the appropriate polyfill.");function Xe(a){if(!(this instanceof Xe))throw new Error("The 'Keycloak' constructor must be invoked with 'new'.");for(var e=this,c,b=[],S,p={enable:!0,callbackList:[],interval:5},U=document.getElementsByTagName("script"),_=0;_<U.length;_++)(U[_].src.indexOf("keycloak.js")!==-1||U[_].src.indexOf("keycloak.min.js")!==-1)&&U[_].src.indexOf("version=")!==-1&&(e.iframeVersion=U[_].src.substring(U[_].src.indexOf("version=")+8).split("&")[0]);var s=!0,P=q(console.info),R=q(console.warn);e.init=function(t){if(e.didInitialize)throw new Error("A 'Keycloak' instance can only be initialized once.");e.didInitialize=!0,e.authenticated=!1,S=C();var r=["default","cordova","cordova-native"];if(t&&r.indexOf(t.adapter)>-1?c=$(t.adapter):t&&typeof t.adapter=="object"?c=t.adapter:window.Cordova||window.cordova?c=$("cordova"):c=$(),t){if(typeof t.useNonce<"u"&&(s=t.useNonce),typeof t.checkLoginIframe<"u"&&(p.enable=t.checkLoginIframe),t.checkLoginIframeInterval&&(p.interval=t.checkLoginIframeInterval),t.onLoad==="login-required"&&(e.loginRequired=!0),t.responseMode)if(t.responseMode==="query"||t.responseMode==="fragment")e.responseMode=t.responseMode;else throw"Invalid value for responseMode";if(t.flow){switch(t.flow){case"standard":e.responseType="code";break;case"implicit":e.responseType="id_token token";break;case"hybrid":e.responseType="code id_token token";break;default:throw"Invalid value for flow"}e.flow=t.flow}if(t.timeSkew!=null&&(e.timeSkew=t.timeSkew),t.redirectUri&&(e.redirectUri=t.redirectUri),t.silentCheckSsoRedirectUri&&(e.silentCheckSsoRedirectUri=t.silentCheckSsoRedirectUri),typeof t.silentCheckSsoFallback=="boolean"?e.silentCheckSsoFallback=t.silentCheckSsoFallback:e.silentCheckSsoFallback=!0,typeof t.pkceMethod<"u"){if(t.pkceMethod!=="S256"&&t.pkceMethod!==!1)throw new TypeError(`Invalid value for pkceMethod', expected 'S256' or false but got ${t.pkceMethod}.`);e.pkceMethod=t.pkceMethod}else e.pkceMethod="S256";typeof t.enableLogging=="boolean"?e.enableLogging=t.enableLogging:e.enableLogging=!1,t.logoutMethod==="POST"?e.logoutMethod="POST":e.logoutMethod="GET",typeof t.scope=="string"&&(e.scope=t.scope),typeof t.acrValues=="string"&&(e.acrValues=t.acrValues),typeof t.messageReceiveTimeout=="number"&&t.messageReceiveTimeout>0?e.messageReceiveTimeout=t.messageReceiveTimeout:e.messageReceiveTimeout=1e4}e.responseMode||(e.responseMode="fragment"),e.responseType||(e.responseType="code",e.flow="standard");var u=g(),h=g();h.promise.then(function(){e.onReady&&e.onReady(e.authenticated),u.setSuccess(e.authenticated)}).catch(function(k){u.setError(k)});var o=F();function y(){var k=function(M){M||(T.prompt="none"),t&&t.locale&&(T.locale=t.locale),e.login(T).then(function(){h.setSuccess()}).catch(function(Z){h.setError(Z)})},x=function(){var M=document.createElement("iframe"),Z=e.createLoginUrl({prompt:"none",redirectUri:e.silentCheckSsoRedirectUri});M.setAttribute("src",Z),M.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),M.setAttribute("title","keycloak-silent-check-sso"),M.style.display="none",document.body.appendChild(M);var re=function(G){if(!(G.origin!==window.location.origin||M.contentWindow!==G.source)){var oe=l(G.data);J(oe,h),document.body.removeChild(M),window.removeEventListener("message",re)}};window.addEventListener("message",re)},T={};switch(t.onLoad){case"check-sso":p.enable?I().then(function(){A().then(function(M){M?h.setSuccess():e.silentCheckSsoRedirectUri?x():k(!1)}).catch(function(M){h.setError(M)})}):e.silentCheckSsoRedirectUri?x():k(!1);break;case"login-required":k(!0);break;default:throw"Invalid value for onLoad"}}function i(){var k=l(window.location.href);if(k&&window.history.replaceState(window.history.state,null,k.newUrl),k&&k.valid)return I().then(function(){J(k,h)}).catch(function(x){h.setError(x)});t?t.token&&t.refreshToken?(L(t.token,t.refreshToken,t.idToken),p.enable?I().then(function(){A().then(function(x){x?(e.onAuthSuccess&&e.onAuthSuccess(),h.setSuccess(),f()):h.setSuccess()}).catch(function(x){h.setError(x)})}):e.updateToken(-1).then(function(){e.onAuthSuccess&&e.onAuthSuccess(),h.setSuccess()}).catch(function(x){e.onAuthError&&e.onAuthError(),t.onLoad?y():h.setError(x)})):t.onLoad?y():h.setSuccess():h.setSuccess()}function v(){var k=g(),x=function(){(document.readyState==="interactive"||document.readyState==="complete")&&(document.removeEventListener("readystatechange",x),k.setSuccess())};return document.addEventListener("readystatechange",x),x(),k.promise}return o.then(function(){v().then(O).then(i).catch(function(k){u.setError(k)})}),o.catch(function(k){u.setError(k)}),u.promise},e.login=function(t){return c.login(t)};function V(t){var r=null,u=window.crypto||window.msCrypto;if(u&&u.getRandomValues&&window.Uint8Array)return r=new Uint8Array(t),u.getRandomValues(r),r;r=new Array(t);for(var h=0;h<r.length;h++)r[h]=Math.floor(256*Math.random());return r}function K(t){return E(t,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789")}function E(t,r){for(var u=V(t),h=new Array(t),o=0;o<t;o++)h[o]=r.charCodeAt(u[o]%r.length);return String.fromCharCode.apply(null,h)}function N(t,r){if(t!=="S256")throw new TypeError(`Invalid value for 'pkceMethod', expected 'S256' but got '${t}'.`);const u=new Uint8Array(Mt.arrayBuffer(r));return Ht(u).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}function z(t){var r={id_token:{acr:t}};return JSON.stringify(r)}e.createLoginUrl=function(t){var r=n(),u=n(),h=c.redirectUri(t),o={state:r,nonce:u,redirectUri:encodeURIComponent(h),loginOptions:t};t&&t.prompt&&(o.prompt=t.prompt);var y;t&&t.action=="register"?y=e.endpoints.register():y=e.endpoints.authorize();var i=t&&t.scope||e.scope;i?i.indexOf("openid")===-1&&(i="openid "+i):i="openid";var v=y+"?client_id="+encodeURIComponent(e.clientId)+"&redirect_uri="+encodeURIComponent(h)+"&state="+encodeURIComponent(r)+"&response_mode="+encodeURIComponent(e.responseMode)+"&response_type="+encodeURIComponent(e.responseType)+"&scope="+encodeURIComponent(i);if(s&&(v=v+"&nonce="+encodeURIComponent(u)),t&&t.prompt&&(v+="&prompt="+encodeURIComponent(t.prompt)),t&&t.maxAge&&(v+="&max_age="+encodeURIComponent(t.maxAge)),t&&t.loginHint&&(v+="&login_hint="+encodeURIComponent(t.loginHint)),t&&t.idpHint&&(v+="&kc_idp_hint="+encodeURIComponent(t.idpHint)),t&&t.action&&t.action!="register"&&(v+="&kc_action="+encodeURIComponent(t.action)),t&&t.locale&&(v+="&ui_locales="+encodeURIComponent(t.locale)),t&&t.acr){var k=z(t.acr);v+="&claims="+encodeURIComponent(k)}if((t&&t.acrValues||e.acrValues)&&(v+="&acr_values="+encodeURIComponent(t.acrValues||e.acrValues)),e.pkceMethod){var x=K(96);o.pkceCodeVerifier=x;var T=N(e.pkceMethod,x);v+="&code_challenge="+T,v+="&code_challenge_method="+e.pkceMethod}return S.add(o),v},e.logout=function(t){return c.logout(t)},e.createLogoutUrl=function(t){if(((t==null?void 0:t.logoutMethod)??e.logoutMethod)==="POST")return e.endpoints.logout();var u=e.endpoints.logout()+"?client_id="+encodeURIComponent(e.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(c.redirectUri(t,!1));return e.idToken&&(u+="&id_token_hint="+encodeURIComponent(e.idToken)),u},e.register=function(t){return c.register(t)},e.createRegisterUrl=function(t){return t||(t={}),t.action="register",e.createLoginUrl(t)},e.createAccountUrl=function(t){var r=j(),u=void 0;return typeof r<"u"&&(u=r+"/account?referrer="+encodeURIComponent(e.clientId)+"&referrer_uri="+encodeURIComponent(c.redirectUri(t))),u},e.accountManagement=function(){return c.accountManagement()},e.hasRealmRole=function(t){var r=e.realmAccess;return!!r&&r.roles.indexOf(t)>=0},e.hasResourceRole=function(t,r){if(!e.resourceAccess)return!1;var u=e.resourceAccess[r||e.clientId];return!!u&&u.roles.indexOf(t)>=0},e.loadUserProfile=function(){var t=j()+"/account",r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Authorization","bearer "+e.token);var u=g();return r.onreadystatechange=function(){r.readyState==4&&(r.status==200?(e.profile=JSON.parse(r.responseText),u.setSuccess(e.profile)):u.setError())},r.send(),u.promise},e.loadUserInfo=function(){var t=e.endpoints.userinfo(),r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Authorization","bearer "+e.token);var u=g();return r.onreadystatechange=function(){r.readyState==4&&(r.status==200?(e.userInfo=JSON.parse(r.responseText),u.setSuccess(e.userInfo)):u.setError())},r.send(),u.promise},e.isTokenExpired=function(t){if(!e.tokenParsed||!e.refreshToken&&e.flow!="implicit")throw"Not authenticated";if(e.timeSkew==null)return P("[KEYCLOAK] Unable to determine if token is expired as timeskew is not set"),!0;var r=e.tokenParsed.exp-Math.ceil(new Date().getTime()/1e3)+e.timeSkew;if(t){if(isNaN(t))throw"Invalid minValidity";r-=t}return r<0},e.updateToken=function(t){var r=g();if(!e.refreshToken)return r.setError(),r.promise;t=t||5;var u=function(){var o=!1;if(t==-1?(o=!0,P("[KEYCLOAK] Refreshing token: forced refresh")):(!e.tokenParsed||e.isTokenExpired(t))&&(o=!0,P("[KEYCLOAK] Refreshing token: token expired")),!o)r.setSuccess(!1);else{var y="grant_type=refresh_token&refresh_token="+e.refreshToken,i=e.endpoints.token();if(b.push(r),b.length==1){var v=new XMLHttpRequest;v.open("POST",i,!0),v.setRequestHeader("Content-type","application/x-www-form-urlencoded"),v.withCredentials=!0,y+="&client_id="+encodeURIComponent(e.clientId);var k=new Date().getTime();v.onreadystatechange=function(){if(v.readyState==4)if(v.status==200){P("[KEYCLOAK] Token refreshed"),k=(k+new Date().getTime())/2;var x=JSON.parse(v.responseText);L(x.access_token,x.refresh_token,x.id_token,k),e.onAuthRefreshSuccess&&e.onAuthRefreshSuccess();for(var T=b.pop();T!=null;T=b.pop())T.setSuccess(!0)}else{R("[KEYCLOAK] Failed to refresh token"),v.status==400&&e.clearToken(),e.onAuthRefreshError&&e.onAuthRefreshError();for(var T=b.pop();T!=null;T=b.pop())T.setError(!0)}},v.send(y)}}};if(p.enable){var h=A();h.then(function(){u()}).catch(function(o){r.setError(o)})}else u();return r.promise},e.clearToken=function(){e.token&&(L(null,null,null),e.onAuthLogout&&e.onAuthLogout(),e.loginRequired&&e.login())};function j(){if(typeof e.authServerUrl<"u")return e.authServerUrl.charAt(e.authServerUrl.length-1)=="/"?e.authServerUrl+"realms/"+encodeURIComponent(e.realm):e.authServerUrl+"/realms/"+encodeURIComponent(e.realm)}function X(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function J(t,r){var u=t.code,h=t.error,o=t.prompt,y=new Date().getTime();if(t.kc_action_status&&e.onActionUpdate&&e.onActionUpdate(t.kc_action_status),h){if(o!="none")if(t.error_description&&t.error_description==="authentication_expired")e.login(t.loginOptions);else{var i={error:h,error_description:t.error_description};e.onAuthError&&e.onAuthError(i),r&&r.setError(i)}else r&&r.setSuccess();return}else e.flow!="standard"&&(t.access_token||t.id_token)&&T(t.access_token,null,t.id_token,!0);if(e.flow!="implicit"&&u){var v="code="+u+"&grant_type=authorization_code",k=e.endpoints.token(),x=new XMLHttpRequest;x.open("POST",k,!0),x.setRequestHeader("Content-type","application/x-www-form-urlencoded"),v+="&client_id="+encodeURIComponent(e.clientId),v+="&redirect_uri="+t.redirectUri,t.pkceCodeVerifier&&(v+="&code_verifier="+t.pkceCodeVerifier),x.withCredentials=!0,x.onreadystatechange=function(){if(x.readyState==4)if(x.status==200){var M=JSON.parse(x.responseText);T(M.access_token,M.refresh_token,M.id_token,e.flow==="standard"),f()}else e.onAuthError&&e.onAuthError(),r&&r.setError()},x.send(v)}function T(M,Z,re,G){y=(y+new Date().getTime())/2,L(M,Z,re,y),s&&e.idTokenParsed&&e.idTokenParsed.nonce!=t.storedNonce?(P("[KEYCLOAK] Invalid nonce, clearing token"),e.clearToken(),r&&r.setError()):G&&(e.onAuthSuccess&&e.onAuthSuccess(),r&&r.setSuccess())}}function F(t){var r=g(),u;a?typeof a=="string"&&(u=a):u="keycloak.json";function h(x){x?e.endpoints={authorize:function(){return x.authorization_endpoint},token:function(){return x.token_endpoint},logout:function(){if(!x.end_session_endpoint)throw"Not supported by the OIDC server";return x.end_session_endpoint},checkSessionIframe:function(){if(!x.check_session_iframe)throw"Not supported by the OIDC server";return x.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!x.userinfo_endpoint)throw"Not supported by the OIDC server";return x.userinfo_endpoint}}:e.endpoints={authorize:function(){return j()+"/protocol/openid-connect/auth"},token:function(){return j()+"/protocol/openid-connect/token"},logout:function(){return j()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){var T=j()+"/protocol/openid-connect/login-status-iframe.html";return e.iframeVersion&&(T=T+"?version="+e.iframeVersion),T},thirdPartyCookiesIframe:function(){var T=j()+"/protocol/openid-connect/3p-cookies/step1.html";return e.iframeVersion&&(T=T+"?version="+e.iframeVersion),T},register:function(){return j()+"/protocol/openid-connect/registrations"},userinfo:function(){return j()+"/protocol/openid-connect/userinfo"}}}if(u){var o=new XMLHttpRequest;o.open("GET",u,!0),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(o.readyState==4)if(o.status==200||Y(o)){var x=JSON.parse(o.responseText);e.authServerUrl=x["auth-server-url"],e.realm=x.realm,e.clientId=x.resource,h(null),r.setSuccess()}else r.setError()},o.send()}else{if(!a.clientId)throw"clientId missing";e.clientId=a.clientId;var y=a.oidcProvider;if(y)if(typeof y=="string"){var k;y.charAt(y.length-1)=="/"?k=y+".well-known/openid-configuration":k=y+"/.well-known/openid-configuration";var o=new XMLHttpRequest;o.open("GET",k,!0),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(o.readyState==4)if(o.status==200||Y(o)){var T=JSON.parse(o.responseText);h(T),r.setSuccess()}else r.setError()},o.send()}else h(y),r.setSuccess();else{if(!a.url){for(var i=document.getElementsByTagName("script"),v=0;v<i.length;v++)if(i[v].src.match(/.*keycloak\.js/)){a.url=i[v].src.substr(0,i[v].src.indexOf("/js/keycloak.js"));break}}if(!a.realm)throw"realm missing";e.authServerUrl=a.url,e.realm=a.realm,h(null),r.setSuccess()}}return r.promise}function Y(t){return t.status==0&&t.responseText&&t.responseURL.startsWith("file:")}function L(t,r,u,h){if(e.tokenTimeoutHandle&&(clearTimeout(e.tokenTimeoutHandle),e.tokenTimeoutHandle=null),r?(e.refreshToken=r,e.refreshTokenParsed=ge(r)):(delete e.refreshToken,delete e.refreshTokenParsed),u?(e.idToken=u,e.idTokenParsed=ge(u)):(delete e.idToken,delete e.idTokenParsed),t){if(e.token=t,e.tokenParsed=ge(t),e.sessionId=e.tokenParsed.sid,e.authenticated=!0,e.subject=e.tokenParsed.sub,e.realmAccess=e.tokenParsed.realm_access,e.resourceAccess=e.tokenParsed.resource_access,h&&(e.timeSkew=Math.floor(h/1e3)-e.tokenParsed.iat),e.timeSkew!=null&&(P("[KEYCLOAK] Estimated time difference between browser and server is "+e.timeSkew+" seconds"),e.onTokenExpired)){var o=(e.tokenParsed.exp-new Date().getTime()/1e3+e.timeSkew)*1e3;P("[KEYCLOAK] Token expires in "+Math.round(o/1e3)+" s"),o<=0?e.onTokenExpired():e.tokenTimeoutHandle=setTimeout(e.onTokenExpired,o)}}else delete e.token,delete e.tokenParsed,delete e.subject,delete e.realmAccess,delete e.resourceAccess,e.authenticated=!1}function n(){var t="0123456789abcdef",r=E(36,t).split("");r[14]="4",r[19]=t.substr(r[19]&3|8,1),r[8]=r[13]=r[18]=r[23]="-";var u=r.join("");return u}function l(t){var r=w(t);if(r){var u=S.get(r.state);return u&&(r.valid=!0,r.redirectUri=u.redirectUri,r.storedNonce=u.nonce,r.prompt=u.prompt,r.pkceCodeVerifier=u.pkceCodeVerifier,r.loginOptions=u.loginOptions),r}}function w(t){var r;switch(e.flow){case"standard":r=["code","state","session_state","kc_action_status","iss"];break;case"implicit":r=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status","iss"];break;case"hybrid":r=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status","iss"];break}r.push("error"),r.push("error_description"),r.push("error_uri");var u=t.indexOf("?"),h=t.indexOf("#"),o,y;if(e.responseMode==="query"&&u!==-1?(o=t.substring(0,u),y=d(t.substring(u+1,h!==-1?h:t.length),r),y.paramsString!==""&&(o+="?"+y.paramsString),h!==-1&&(o+=t.substring(h))):e.responseMode==="fragment"&&h!==-1&&(o=t.substring(0,h),y=d(t.substring(h+1),r),y.paramsString!==""&&(o+="#"+y.paramsString)),y&&y.oauthParams){if(e.flow==="standard"||e.flow==="hybrid"){if((y.oauthParams.code||y.oauthParams.error)&&y.oauthParams.state)return y.oauthParams.newUrl=o,y.oauthParams}else if(e.flow==="implicit"&&(y.oauthParams.access_token||y.oauthParams.error)&&y.oauthParams.state)return y.oauthParams.newUrl=o,y.oauthParams}}function d(t,r){for(var u=t.split("&"),h={paramsString:"",oauthParams:{}},o=0;o<u.length;o++){var y=u[o].indexOf("="),i=u[o].slice(0,y);r.indexOf(i)!==-1?h.oauthParams[i]=u[o].slice(y+1):(h.paramsString!==""&&(h.paramsString+="&"),h.paramsString+=u[o])}return h}function g(){var t={setSuccess:function(r){t.resolve(r)},setError:function(r){t.reject(r)}};return t.promise=new Promise(function(r,u){t.resolve=r,t.reject=u}),t}function m(t,r,u){var h=null,o=new Promise(function(y,i){h=setTimeout(function(){i({error:u})},r)});return Promise.race([t,o]).finally(function(){clearTimeout(h)})}function I(){var t=g();if(!p.enable||p.iframe)return t.setSuccess(),t.promise;var r=document.createElement("iframe");p.iframe=r,r.onload=function(){var o=e.endpoints.authorize();o.charAt(0)==="/"?p.iframeOrigin=X():p.iframeOrigin=o.substring(0,o.indexOf("/",8)),t.setSuccess()};var u=e.endpoints.checkSessionIframe();r.setAttribute("src",u),r.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),r.setAttribute("title","keycloak-session-iframe"),r.style.display="none",document.body.appendChild(r);var h=function(o){if(!(o.origin!==p.iframeOrigin||p.iframe.contentWindow!==o.source)&&(o.data=="unchanged"||o.data=="changed"||o.data=="error")){o.data!="unchanged"&&e.clearToken();for(var y=p.callbackList.splice(0,p.callbackList.length),i=y.length-1;i>=0;--i){var v=y[i];o.data=="error"?v.setError():v.setSuccess(o.data=="unchanged")}}};return window.addEventListener("message",h,!1),t.promise}function f(){p.enable&&e.token&&setTimeout(function(){A().then(function(t){t&&f()})},p.interval*1e3)}function A(){var t=g();if(p.iframe&&p.iframeOrigin){var r=e.clientId+" "+(e.sessionId?e.sessionId:"");p.callbackList.push(t);var u=p.iframeOrigin;p.callbackList.length==1&&p.iframe.contentWindow.postMessage(r,u)}else t.setSuccess();return t.promise}function O(){var t=g();if(p.enable||e.silentCheckSsoRedirectUri){var r=document.createElement("iframe");r.setAttribute("src",e.endpoints.thirdPartyCookiesIframe()),r.setAttribute("sandbox","allow-storage-access-by-user-activation allow-scripts allow-same-origin"),r.setAttribute("title","keycloak-3p-check-iframe"),r.style.display="none",document.body.appendChild(r);var u=function(h){r.contentWindow===h.source&&(h.data!=="supported"&&h.data!=="unsupported"||(h.data==="unsupported"&&(R(`[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:

 - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).
 - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).

For more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers`),p.enable=!1,e.silentCheckSsoFallback&&(e.silentCheckSsoRedirectUri=!1)),document.body.removeChild(r),window.removeEventListener("message",u),t.setSuccess()))};window.addEventListener("message",u,!1)}else t.setSuccess();return m(t.promise,e.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function $(t){if(!t||t=="default")return{login:function(i){return window.location.assign(e.createLoginUrl(i)),g().promise},logout:async function(i){if(((i==null?void 0:i.logoutMethod)??e.logoutMethod)==="GET"){window.location.replace(e.createLogoutUrl(i));return}const k=e.createLogoutUrl(i),x=await fetch(k,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id_token_hint:e.idToken,client_id:e.clientId,post_logout_redirect_uri:c.redirectUri(i,!1)})});if(x.redirected){window.location.href=x.url;return}if(x.ok){window.location.reload();return}throw new Error("Logout failed, request returned an error code.")},register:function(i){return window.location.assign(e.createRegisterUrl(i)),g().promise},accountManagement:function(){var i=e.createAccountUrl();if(typeof i<"u")window.location.href=i;else throw"Not supported by the OIDC server";return g().promise},redirectUri:function(i,v){return i&&i.redirectUri?i.redirectUri:e.redirectUri?e.redirectUri:location.href}};if(t=="cordova"){p.enable=!1;var r=function(i,v,k){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(i,v,k):window.open(i,v,k)},u=function(i){return i&&i.cordovaOptions?Object.keys(i.cordovaOptions).reduce(function(v,k){return v[k]=i.cordovaOptions[k],v},{}):{}},h=function(i){return Object.keys(i).reduce(function(v,k){return v.push(k+"="+i[k]),v},[]).join(",")},o=function(i){var v=u(i);return v.location="no",i&&i.prompt=="none"&&(v.hidden="yes"),h(v)},y=function(){return e.redirectUri||"http://localhost"};return{login:function(i){var v=g(),k=o(i),x=e.createLoginUrl(i),T=r(x,"_blank",k),M=!1,Z=!1,re=function(){Z=!0,T.close()};return T.addEventListener("loadstart",function(G){if(G.url.indexOf(y())==0){var oe=l(G.url);J(oe,v),re(),M=!0}}),T.addEventListener("loaderror",function(G){if(!M)if(G.url.indexOf(y())==0){var oe=l(G.url);J(oe,v),re(),M=!0}else v.setError(),re()}),T.addEventListener("exit",function(G){Z||v.setError({reason:"closed_by_user"})}),v.promise},logout:function(i){var v=g(),k=e.createLogoutUrl(i),x=r(k,"_blank","location=no,hidden=yes,clearcache=yes"),T;return x.addEventListener("loadstart",function(M){M.url.indexOf(y())==0&&x.close()}),x.addEventListener("loaderror",function(M){M.url.indexOf(y())==0||(T=!0),x.close()}),x.addEventListener("exit",function(M){T?v.setError():(e.clearToken(),v.setSuccess())}),v.promise},register:function(i){var v=g(),k=e.createRegisterUrl(),x=o(i),T=r(k,"_blank",x);return T.addEventListener("loadstart",function(M){if(M.url.indexOf(y())==0){T.close();var Z=l(M.url);J(Z,v)}}),v.promise},accountManagement:function(){var i=e.createAccountUrl();if(typeof i<"u"){var v=r(i,"_blank","location=no");v.addEventListener("loadstart",function(k){k.url.indexOf(y())==0&&v.close()})}else throw"Not supported by the OIDC server"},redirectUri:function(i){return y()}}}if(t=="cordova-native")return p.enable=!1,{login:function(i){var v=g(),k=e.createLoginUrl(i);return universalLinks.subscribe("keycloak",function(x){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var T=l(x.url);J(T,v)}),window.cordova.plugins.browsertab.openUrl(k),v.promise},logout:function(i){var v=g(),k=e.createLogoutUrl(i);return universalLinks.subscribe("keycloak",function(x){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),e.clearToken(),v.setSuccess()}),window.cordova.plugins.browsertab.openUrl(k),v.promise},register:function(i){var v=g(),k=e.createRegisterUrl(i);return universalLinks.subscribe("keycloak",function(x){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close();var T=l(x.url);J(T,v)}),window.cordova.plugins.browsertab.openUrl(k),v.promise},accountManagement:function(){var i=e.createAccountUrl();if(typeof i<"u")window.cordova.plugins.browsertab.openUrl(i);else throw"Not supported by the OIDC server"},redirectUri:function(i){return i&&i.redirectUri?i.redirectUri:e.redirectUri?e.redirectUri:"http://localhost"}};throw"invalid adapter type: "+t}var D=function(){if(!(this instanceof D))return new D;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");var t=this;function r(){for(var u=new Date().getTime(),h=0;h<localStorage.length;h++){var o=localStorage.key(h);if(o&&o.indexOf("kc-callback-")==0){var y=localStorage.getItem(o);if(y)try{var i=JSON.parse(y).expires;(!i||i<u)&&localStorage.removeItem(o)}catch{localStorage.removeItem(o)}}}}t.get=function(u){if(u){var h="kc-callback-"+u,o=localStorage.getItem(h);return o&&(localStorage.removeItem(h),o=JSON.parse(o)),r(),o}},t.add=function(u){r();var h="kc-callback-"+u.state;u.expires=new Date().getTime()+60*60*1e3,localStorage.setItem(h,JSON.stringify(u))}},W=function(){if(!(this instanceof W))return new W;var t=this;t.get=function(o){if(o){var y=u("kc-callback-"+o);if(h("kc-callback-"+o,"",r(-100)),y)return JSON.parse(y)}},t.add=function(o){h("kc-callback-"+o.state,JSON.stringify(o),r(60))},t.removeItem=function(o){h(o,"",r(-100))};var r=function(o){var y=new Date;return y.setTime(y.getTime()+o*60*1e3),y},u=function(o){for(var y=o+"=",i=document.cookie.split(";"),v=0;v<i.length;v++){for(var k=i[v];k.charAt(0)==" ";)k=k.substring(1);if(k.indexOf(y)==0)return k.substring(y.length,k.length)}return""},h=function(o,y,i){var v=o+"="+y+"; expires="+i.toUTCString()+"; ";document.cookie=v}};function C(){try{return new D}catch{}return new W}function q(t){return function(){e.enableLogging&&t.apply(console,Array.prototype.slice.call(arguments))}}}function Ht(a){const e=String.fromCodePoint(...a);return btoa(e)}const Nt=te({...fe(),...Ft({fullHeight:!0}),...ke()},"VApp"),Ot=ae()({name:"VApp",props:Nt(),setup(a,e){let{slots:c}=e;const b=we(a),{layoutClasses:S,getLayoutItem:p,items:U,layoutRef:_}=Ut(a),{rtlClasses:s}=Le();return ne(()=>H("div",{ref:_,class:["v-application",b.themeClasses.value,S.value,s.value,a.class],style:[a.style]},[H("div",{class:"v-application__wrap"},[H(at,null,{default:()=>{var P;return[H(nt,null,[(P=c.default)==null?void 0:P.call(c)])]}})])])),{getLayoutItem:p,items:U,theme:b}}}),qe=te({text:String,...fe(),...ve()},"VToolbarTitle"),Ge=ae()({name:"VToolbarTitle",props:qe(),setup(a,e){let{slots:c}=e;return ne(()=>{const b=!!(c.default||c.text||a.text);return H(a.tag,{class:["v-toolbar-title",a.class],style:a.style},{default:()=>{var S;return[b&&H("div",{class:"v-toolbar-title__placeholder"},[c.text?c.text():a.text,(S=c.default)==null?void 0:S.call(c)])]}})}),{}}}),jt=[null,"prominent","default","comfortable","compact"],Ze=te({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:a=>jt.includes(a)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...He(),...fe(),...Ne(),...Oe(),...ve({tag:"header"}),...ke()},"VToolbar"),Te=ae()({name:"VToolbar",props:Ze(),setup(a,e){var E;let{slots:c}=e;const{backgroundColorClasses:b,backgroundColorStyles:S}=je(ue(a,"color")),{borderClasses:p}=ze(a),{elevationClasses:U}=De(a),{roundedClasses:_}=$e(a),{themeClasses:s}=we(a),{rtlClasses:P}=Le(),R=Q(!!(a.extended||(E=c.extension)!=null&&E.call(c))),V=B(()=>parseInt(Number(a.height)+(a.density==="prominent"?Number(a.height):0)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0),10)),K=B(()=>R.value?parseInt(Number(a.extensionHeight)+(a.density==="prominent"?Number(a.extensionHeight):0)-(a.density==="comfortable"?4:0)-(a.density==="compact"?8:0),10):0);return ot({VBtn:{variant:"text"}}),ne(()=>{var X;const N=!!(a.title||c.title),z=!!(c.image||a.image),j=(X=c.extension)==null?void 0:X.call(c);return R.value=!!(a.extended||j),H(a.tag,{class:["v-toolbar",{"v-toolbar--absolute":a.absolute,"v-toolbar--collapse":a.collapse,"v-toolbar--flat":a.flat,"v-toolbar--floating":a.floating,[`v-toolbar--density-${a.density}`]:!0},b.value,p.value,U.value,_.value,s.value,P.value,a.class],style:[S.value,a.style]},{default:()=>[z&&H("div",{key:"image",class:"v-toolbar__image"},[c.image?H(pe,{key:"image-defaults",disabled:!a.image,defaults:{VImg:{cover:!0,src:a.image}}},c.image):H(xt,{key:"image-img",cover:!0,src:a.image},null)]),H(pe,{defaults:{VTabs:{height:ee(V.value)}}},{default:()=>{var J,F,Y;return[H("div",{class:"v-toolbar__content",style:{height:ee(V.value)}},[c.prepend&&H("div",{class:"v-toolbar__prepend"},[(J=c.prepend)==null?void 0:J.call(c)]),N&&H(Ge,{key:"title",text:a.title},{text:c.title}),(F=c.default)==null?void 0:F.call(c),c.append&&H("div",{class:"v-toolbar__append"},[(Y=c.append)==null?void 0:Y.call(c)])])]}}),H(pe,{defaults:{VTabs:{height:ee(K.value)}}},{default:()=>[H(bt,null,{default:()=>[R.value&&H("div",{class:"v-toolbar__extension",style:{height:ee(K.value)}},[j])]})]})]})}),{contentHeight:V,extensionHeight:K}}}),zt=te({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Dt(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:c}=e;let b=0,S=0;const p=xe(null),U=Q(0),_=Q(0),s=Q(0),P=Q(!1),R=Q(!1),V=B(()=>Number(a.scrollThreshold)),K=B(()=>st((V.value-U.value)/V.value||0)),E=()=>{const N=p.value;if(!N||c&&!c.value)return;b=U.value,U.value="window"in N?N.pageYOffset:N.scrollTop;const z=N instanceof Window?document.documentElement.scrollHeight:N.scrollHeight;if(S!==z){S=z;return}R.value=U.value<b,s.value=Math.abs(U.value-V.value)};return de(R,()=>{_.value=_.value||U.value}),de(P,()=>{_.value=0}),it(()=>{de(()=>a.scrollTarget,N=>{var j;const z=N?document.querySelector(N):window;z&&z!==p.value&&((j=p.value)==null||j.removeEventListener("scroll",E),p.value=z,p.value.addEventListener("scroll",E,{passive:!0}))},{immediate:!0})}),Ce(()=>{var N;(N=p.value)==null||N.removeEventListener("scroll",E)}),c&&de(c,E,{immediate:!0}),{scrollThreshold:V,currentScroll:U,currentThreshold:s,isScrollActive:P,scrollRatio:K,isScrollingUp:R,savedScroll:_}}const $t=te({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:a=>["top","bottom"].includes(a)},...Ze(),...Je(),...zt(),height:{type:[Number,String],default:64}},"VAppBar"),Kt=ae()({name:"VAppBar",props:$t(),emits:{"update:modelValue":a=>!0},setup(a,e){let{slots:c}=e;const b=xe(),S=lt(a,"modelValue"),p=B(()=>{var Y;const F=new Set(((Y=a.scrollBehavior)==null?void 0:Y.split(" "))??[]);return{hide:F.has("hide"),fullyHide:F.has("fully-hide"),inverted:F.has("inverted"),collapse:F.has("collapse"),elevate:F.has("elevate"),fadeImage:F.has("fade-image")}}),U=B(()=>{const F=p.value;return F.hide||F.fullyHide||F.inverted||F.collapse||F.elevate||F.fadeImage||!S.value}),{currentScroll:_,scrollThreshold:s,isScrollingUp:P,scrollRatio:R}=Dt(a,{canScroll:U}),V=B(()=>p.value.hide||p.value.fullyHide),K=B(()=>a.collapse||p.value.collapse&&(p.value.inverted?R.value>0:R.value===0)),E=B(()=>a.flat||p.value.fullyHide&&!S.value||p.value.elevate&&(p.value.inverted?_.value>0:_.value===0)),N=B(()=>p.value.fadeImage?p.value.inverted?1-R.value:R.value:void 0),z=B(()=>{var L,n;const F=Number(((L=b.value)==null?void 0:L.contentHeight)??a.height),Y=Number(((n=b.value)==null?void 0:n.extensionHeight)??0);return V.value?_.value<s.value||p.value.fullyHide?F+Y:F:F+Y});ct(B(()=>!!a.scrollBehavior),()=>{ut(()=>{V.value?p.value.inverted?S.value=_.value>s.value:S.value=P.value||_.value<s.value:S.value=!0})});const{ssrBootStyles:j}=Be(),{layoutItemStyles:X,layoutIsReady:J}=Ye({id:a.name,order:B(()=>parseInt(a.order,10)),position:ue(a,"location"),layoutSize:z,elementSize:Q(void 0),active:S,absolute:ue(a,"absolute")});return ne(()=>{const F=Te.filterProps(a);return H(Te,Pe({ref:b,class:["v-app-bar",{"v-app-bar--bottom":a.location==="bottom"},a.class],style:[{...X.value,"--v-toolbar-image-opacity":N.value,height:void 0,...j.value},a.style]},F,{collapse:K.value,flat:E.value}),c)}),J}}),Jt=ae()({name:"VAppBarTitle",props:qe(),setup(a,e){let{slots:c}=e;return ne(()=>H(Ge,Pe(a,{class:"v-app-bar-title"}),c)),{}}}),Yt=te({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...He(),...fe(),...Ne(),...Je(),...Oe(),...ve({tag:"footer"}),...ke()},"VFooter"),Wt=ae()({name:"VFooter",props:Yt(),setup(a,e){let{slots:c}=e;const{themeClasses:b}=we(a),{backgroundColorClasses:S,backgroundColorStyles:p}=je(ue(a,"color")),{borderClasses:U}=ze(a),{elevationClasses:_}=De(a),{roundedClasses:s}=$e(a),P=Q(32),{resizeRef:R}=Ve(N=>{N.length&&(P.value=N[0].target.clientHeight)}),V=B(()=>a.height==="auto"?P.value:parseInt(a.height,10)),{layoutItemStyles:K,layoutIsReady:E}=Ye({id:a.name,order:B(()=>parseInt(a.order,10)),position:B(()=>"bottom"),layoutSize:V,elementSize:B(()=>a.height==="auto"?void 0:V.value),active:B(()=>a.app),absolute:ue(a,"absolute")});return ne(()=>H(a.tag,{ref:R,class:["v-footer",b.value,S.value,U.value,_.value,s.value,a.class],style:[p.value,a.app?K.value:{height:ee(a.height)},a.style]},c)),a.app?E:{}}}),Xt=te({scrollable:Boolean,...fe(),...wt(),...ve({tag:"main"})},"VMain"),qt=ae()({name:"VMain",props:Xt(),setup(a,e){let{slots:c}=e;const{dimensionStyles:b}=St(a),{mainStyles:S,layoutIsReady:p}=It(),{ssrBootStyles:U}=Be();return ne(()=>H(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[S.value,U.value,b.value,a.style]},{default:()=>{var _,s;return[a.scrollable?H("div",{class:"v-main__scroller"},[(_=c.default)==null?void 0:_.call(c)]):(s=c.default)==null?void 0:s.call(c)]}})),p}}),Gt={key:0},Zt=Me("div",null,"© 2024 Account Manager",-1),nr=ft({__name:"default",async setup(a){let e,c;const{clientId:b,loginUri:S}=dt().public,p=Ie(),U=yt("keycloak",()=>new Xe({url:"http://localhost:8888",realm:"oidc-tutorial",clientId:b}));try{const s=([e,c]=ht(()=>U.value.init({onLoad:"check-sso"})),e=await e,c(),e);console.log(`User is ${s?"authenticated":"not authenticated"}`)}catch(s){console.error("Failed to initialize adapter:",s)}async function _(){await new Promise(s=>{p.logout(),s()}),p.authenticated("access")||U.value.logout({redirectUri:S})}return(s,P)=>(me(),_e(Ot,null,{default:ie(()=>[H(Kt,{color:"primary",elevation:2},{default:ie(()=>[H(Jt,null,{default:ie(()=>[Me("div",{onClick:P[0]||(P[0]=R=>("useRouter"in s?s.useRouter:le(vt))().push("/")),style:{cursor:"pointer"}},"Account Manager")]),_:1}),le(p).authenticated("access")?(me(),mt("div",Gt,"ようこそ、"+pt(("useAuth"in s?s.useAuth:le(Ie))().getUsername())+"さん",1)):Fe("",!0),le(p).authenticated("access")?(me(),_e(_t,{key:1,icon:le(kt),onClick:P[1]||(P[1]=R=>_())},null,8,["icon"])):Fe("",!0)]),_:1}),H(qt,null,{default:ie(()=>[gt(s.$slots,"default")]),_:3}),H(Wt,{class:"footer justify-center"},{default:ie(()=>[Zt]),_:1})]),_:3}))}});export{nr as default};
